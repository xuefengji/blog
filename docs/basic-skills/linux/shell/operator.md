# Shell 运算符

## 算术运算符

**常见运算符：**

 假定变量 a 为 10，变量 b 为 20 

+ +：加法

  ```bash
  `expr $a + $b`
  ```

+ -：减法

  ```bash
  `expr $a - $b`
  ```

+ *：乘法

  ```bash
  `expr $a \* $b`
  ```

+ /：除法

  ```bash
  `expr $b / $a` 
  ```

+ %：取余

  ```bash
  `expr $b % $a`
  ```

+ =：赋值

  ```bash
  a=$b
  ```

+ ==：比较两数，相同返回 true

  ```bash
  [ $a == $b ]
  ```

+ !=1：比较两数，不相同返回 true

  ```bash
  [ $a != $b ]
  ```

**注意：**

+  乘号 * 前边必须加反斜杠 \ 才能实现乘法运算 

+ 条件表达式要放在括号中
+ 条件表达式与括号之间要有空格

## 关系运算符

**特点：**

+ 只支持数字，不支持字符串
+ 字符串的值是数字，可支持

**常见运算符：**

 假定变量 a 为 10，变量 b 为 20 

+ -eq：两数相等，返回 true

  ```bash
  [ $a -eq $b ] 
  ```

+ -ne：两数不相等，返回 true

  ```bash
  [ $a -ne $b ] 
  ```

+ -gt：大于

  ```bash
  [ $a -gt $b ] 
  ```

+ -lt：小于

  ```bash
  [ $a -lt $b ] 
  ```

+ -ge：大于等于

  ```bash
  [ $a -ge $b ] 
  ```

+ -le：小于等于

  ```bash
  [ $a -le $b ] 
  ```

## 布尔运算符

**常见运算符：**

 假定变量 a 为 10，变量 b 为 20 

+ ！：非运算，表达式为 true 时，返回 false

  ```bash
  [ ! false ]
  ```

+ -o：或运算，一个表达式为 true，则返回 true

  ```bash
  [ $a -lt 20 -o $b -gt 100 ]
  ```

+ -a：与运算，两个都为 true 才返回 true

  ```bash
  [ $a -lt 20 -a $b -gt 100 ]
  ```

## 逻辑运算符

**常见运算符：**

 假定变量 a 为 10，变量 b 为 20 

+ &&：逻辑 and

  ```bash
  [[ $a -lt 100 && $b -gt 100 ]]
  ```

+ ||：逻辑 or

  ```bash
  [[ $a -lt 100 || $b -gt 100 ]] 
  ```

## 字符串运算符

**常见运算符：**

 假定变量 a 为 "abc"，变量 b 为 "efg" 

+ =：字符串相等，返回 true

  ```bash
  [ $a = $b ] 
  ```

+ !=：字符串不相等，返回 true

  ```bash
  [ $a != $b ] 
  ```

+ -z：字符串长度为 0 时，返回 true

  ```bash
  [ -z $a ]
  ```

+ -n：字符串长度不为 0 时，返回 true

  ```bash
  [ -n $a ]
  ```

+ $： 字符串是否为空，不为空返回 true 

  ```bash
  [ $a ]
  ```

## 文件测试运算符

| -b file | 检测文件是否是块设备文件，如果是，则返回 true。              | [ -b $file ] 返回 false。 |
| ------- | ------------------------------------------------------------ | ------------------------- |
| -c file | 检测文件是否是字符设备文件，如果是，则返回 true。            | [ -c $file ] 返回 false。 |
| -d file | 检测文件是否是目录，如果是，则返回 true。                    | [ -d $file ] 返回 false。 |
| -f file | 检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。 | [ -f $file ] 返回 true。  |
| -g file | 检测文件是否设置了 SGID 位，如果是，则返回 true。            | [ -g $file ] 返回 false。 |
| -k file | 检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。  | [ -k $file ] 返回 false。 |
| -p file | 检测文件是否是有名管道，如果是，则返回 true。                | [ -p $file ] 返回 false。 |
| -u file | 检测文件是否设置了 SUID 位，如果是，则返回 true。            | [ -u $file ] 返回 false。 |
| -r file | 检测文件是否可读，如果是，则返回 true。                      | [ -r $file ] 返回 true。  |
| -w file | 检测文件是否可写，如果是，则返回 true。                      | [ -w $file ] 返回 true。  |
| -x file | 检测文件是否可执行，如果是，则返回 true。                    | [ -x $file ] 返回 true。  |
| -s file | 检测文件是否为空（文件大小是否大于0），不为空返回 true。     | [ -s $file ] 返回 true。  |
| -e file | 检测文件（包括目录）是否存在，如果是，则返回 true。          | [ -e $file ] 返回 true。  |